(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Yj9t:function(e,t,n){"use strict";n.r(t),n.d(t,"AuthModule",(function(){return R}));var r=n("ofXK"),o=n("tyNb"),a=n("hctd"),i=n("3Pt+"),s=n("4KSJ"),l=n("fXoL"),m=n("7Vn+"),d=n("nC9J"),p=n("kmnG"),c=n("qFsG");function u(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1," Please enter email. "),l["\u0275\u0275elementEnd"]())}function h(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1," Please enter valid email. "),l["\u0275\u0275elementEnd"]())}let g=(()=>{class e{constructor(e,t,n,r){this.router=e,this._auth=t,this._fb=n,this._noti=r,this.isLoading=!1}ngOnInit(){this.forgotPassword=this._fb.group({email:[null,[i.A.required,i.A.email,s.a]]})}forgotNow(){this.forgotPassword.valid?(this.forgotPassword.controls.email.value&&this.forgotPassword.controls.email.setValue(this.forgotPassword.controls.email.value.trim()),this.isLoading=!0,this._auth.forgot(this.forgotPassword.value).subscribe(e=>{this.isLoading=!1,this._auth.otpEmail=this.forgotPassword.controls.email.value,this._noti.show("success",e.message,"Otp"),this.router.navigate(["/auth/otpscreen"])},e=>{this.isLoading=!1})):this.forgotPassword.markAllAsTouched()}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](o.b),l["\u0275\u0275directiveInject"](m.a),l["\u0275\u0275directiveInject"](i.g),l["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-forgetpassword"]],decls:18,vars:5,consts:[[1,"admin-main"],[1,"auth_module",2,"background-image","url('assets/img/auth.jpeg')"],[1,"mx-auto","center_auth",3,"formGroup","ngSubmit"],[1,"p-b-20","text-center"],[1,"logo-auth"],["src","assets/img/nav-logo.png","alt","Logo"],[1,"form-row","mb-2"],["appearance","outline",1,"col-md-12"],["matInput","","placeholder","Enter email address","formControlName","email"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block","btn-lg"],[1,"text-right","p-t-10"],["routerLink","/auth/login",1,"text-underline"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"main",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"form",2),l["\u0275\u0275listener"]("ngSubmit",(function(){return t.forgotNow()})),l["\u0275\u0275elementStart"](3,"div",3),l["\u0275\u0275elementStart"](4,"figure",4),l["\u0275\u0275element"](5,"img",5),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"div",6),l["\u0275\u0275elementStart"](7,"mat-form-field",7),l["\u0275\u0275elementStart"](8,"mat-label"),l["\u0275\u0275text"](9,"Email"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](10,"input",8),l["\u0275\u0275template"](11,u,2,0,"mat-error",9),l["\u0275\u0275template"](12,h,2,0,"mat-error",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"button",10),l["\u0275\u0275text"](14),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](15,"p",11),l["\u0275\u0275elementStart"](16,"a",12),l["\u0275\u0275text"](17,"Back to Login"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("formGroup",t.forgotPassword),l["\u0275\u0275advance"](9),l["\u0275\u0275property"]("ngIf",!t.forgotPassword.get("email").hasError("validEmail")&&t.forgotPassword.get("email").hasError("required")),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.forgotPassword.get("email").hasError("email")||t.forgotPassword.get("email").hasError("validEmail")),l["\u0275\u0275advance"](1),l["\u0275\u0275attribute"]("disabled",!!t.isLoading||null),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](t.isLoading?"Submitting...":"Submit"))},directives:[i.B,i.t,i.l,p.c,p.f,c.b,i.d,i.s,i.j,r.n,o.d,p.b],styles:[".admin-main[_ngcontent-%COMP%]{padding-top:0!important;padding-left:0!important}"]}),e})();var f=n("AytR"),v=n("0IaG"),b=n("Z+m1"),_=n("YWaA");function w(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",13),l["\u0275\u0275text"](1,"Please enter otp. "),l["\u0275\u0275elementEnd"]())}function E(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",13),l["\u0275\u0275text"](1," Please enter valid otp."),l["\u0275\u0275elementEnd"]())}function I(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",5),l["\u0275\u0275elementStart"](1,"label"),l["\u0275\u0275text"](2,"E-mail verification code"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"div",6),l["\u0275\u0275element"](4,"input",7),l["\u0275\u0275elementStart"](5,"div",8),l["\u0275\u0275elementStart"](6,"div",9),l["\u0275\u0275elementStart"](7,"span"),l["\u0275\u0275text"](8,"Verification code sent "),l["\u0275\u0275element"](9,"i",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"small",11),l["\u0275\u0275text"](11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](12,w,2,0,"div",12),l["\u0275\u0275template"](13,E,2,0,"div",12),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](11),l["\u0275\u0275textInterpolate1"](" Enter the 4 digits code received by ",e.returnEmail(null==e.userInfo?null:e.userInfo.email),". "),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.otpForm.get("email_otp").touched&&e.otpForm.get("email_otp").hasError("required")),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.otpForm.get("email_otp").touched&&!e.otpForm.get("email_otp").hasError("required")&&(e.otpForm.get("email_otp").hasError("minlength")||e.otpForm.get("email_otp").hasError("maxlength")))}}function S(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",13),l["\u0275\u0275text"](1,"Please enter otp. "),l["\u0275\u0275elementEnd"]())}function x(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",13),l["\u0275\u0275text"](1," Please enter valid otp."),l["\u0275\u0275elementEnd"]())}function y(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",5),l["\u0275\u0275elementStart"](1,"label"),l["\u0275\u0275text"](2,"Phone verification code"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"div",6),l["\u0275\u0275element"](4,"input",14),l["\u0275\u0275elementStart"](5,"div",8),l["\u0275\u0275elementStart"](6,"div",9),l["\u0275\u0275elementStart"](7,"span"),l["\u0275\u0275text"](8,"Verification code sent "),l["\u0275\u0275element"](9,"i",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"small",11),l["\u0275\u0275text"](11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](12,S,2,0,"div",12),l["\u0275\u0275template"](13,x,2,0,"div",12),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](11),l["\u0275\u0275textInterpolate1"](" Enter the 4 digits code sent to ",e.returnMobile(null==e.userInfo?null:e.userInfo.phone_number),". "),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.otpForm.get("phone_otp").touched&&e.otpForm.get("phone_otp").hasError("required")),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.otpForm.get("phone_otp").touched&&!e.otpForm.get("phone_otp").hasError("required")&&(e.otpForm.get("phone_otp").hasError("minlength")||e.otpForm.get("phone_otp").hasError("maxlength")))}}function P(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",13),l["\u0275\u0275text"](1,"Please enter otp. "),l["\u0275\u0275elementEnd"]())}function F(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",13),l["\u0275\u0275text"](1," Please enter valid otp."),l["\u0275\u0275elementEnd"]())}function L(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",5),l["\u0275\u0275elementStart"](1,"label"),l["\u0275\u0275text"](2,"Authenticator code"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"div",6),l["\u0275\u0275element"](4,"input",15),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"small",11),l["\u0275\u0275text"](6," Enter the 6 digits code from Authy/Google Authenticator. "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](7,P,2,0,"div",12),l["\u0275\u0275template"](8,F,2,0,"div",12),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](7),l["\u0275\u0275property"]("ngIf",e.otpForm.get("auth_otp").touched&&e.otpForm.get("auth_otp").hasError("required")),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.otpForm.get("auth_otp").touched&&!e.otpForm.get("auth_otp").hasError("required")&&(e.otpForm.get("auth_otp").hasError("minlength")||e.otpForm.get("auth_otp").hasError("maxlength")))}}let A=(()=>{class e{constructor(e,t,n,r,o,a){this.fb=e,this.service=t,this._noti=n,this._diloag=r,this.dialogRef=o,this.data=a,this.message="",this.status=!1,this.isLoading=!1,this.userInfo=this.data.userinfo}ngOnInit(){this.otpForm=this.fb.group({email_otp:[],phone_otp:[],auth_otp:[]}),this.userInfo.is_two_factor_sms_authentication_enable&&(this.otpForm.get("email_otp").setValidators([i.A.required,i.A.minLength(4),i.A.maxLength(4)]),this.otpForm.get("phone_otp").setValidators([i.A.required,i.A.minLength(4),i.A.maxLength(4)]),this.service.postWithHeaders(b.a.sendEmailOtpVerify,{email:this.userInfo.email},{Authorization:"Bearer "+this.userInfo.token}).subscribe(),this.service.postWithHeaders(b.a.sendPhoneOtp,{},{Authorization:"Bearer "+this.userInfo.token}).subscribe()),this.userInfo.is_two_factor_authentication_enable&&this.otpForm.get("auth_otp").setValidators([i.A.required,i.A.minLength(6),i.A.maxLength(6)])}returnEmail(e){var t=e.split("@"),n=t[0],r="";for(let o=0;o<n.length;o++)r+=o>0&&o<n.length-1?"*":n[o];return r+"@"+t[1]}returnMobile(e){return e.replace(/^(\+?\d{3})(\d+)(\d{2})$/,(function(){return arguments[1]+arguments[2].replace(/./g,"*")+arguments[3]}))}onOtpChange(e){}verifyOtp(){if(JSON.parse(localStorage.getItem(f.a.storageKey)),this.otpForm.valid)if(this.userInfo.is_two_factor_sms_authentication_enable&&this.userInfo.is_two_factor_authentication_enable){let e={otp:this.otpForm.get("email_otp").value,email:this.data.email};this.service.postWithHeaders(b.a.verifyEmailOtpVerify,e,{Authorization:"Bearer "+this.userInfo.token}).subscribe(e=>{let t={otp:this.otpForm.get("phone_otp").value};this.service.postWithHeaders(b.a.verifyPhoneOtp,t,{Authorization:"Bearer "+this.userInfo.token}).subscribe(e=>{this.service.postWithHeaders(b.a.verifyOtp,{otp:this.otpForm.get("auth_otp").value},{Authorization:"Bearer "+this.userInfo.token}).subscribe(e=>{200==e.code?(this.status=!0,this._diloag.openDialogs[0].close(!0)):this._noti.show("Failed","Invalid Auth OTP.","Verification")},()=>{this._noti.show("Failed","Invalid Auth OTP.","Verification")})},()=>{this._noti.show("Failed","Invalid Phone OTP.","Verification")})},()=>{this._noti.show("Failed","Invalid Email OTP.","Verification")})}else if(this.userInfo.is_two_factor_sms_authentication_enable){let e={otp:this.otpForm.get("email_otp").value,email:this.data.email};this.service.postWithHeaders(b.a.verifyEmailOtpVerify,e,{Authorization:"Bearer "+this.userInfo.token}).subscribe(e=>{let t={otp:this.otpForm.get("phone_otp").value};this.service.postWithHeaders(b.a.verifyPhoneOtp,t,{Authorization:"Bearer "+this.userInfo.token}).subscribe(e=>{this._diloag.openDialogs[0].close(!0)},()=>{this._noti.show("Failed","Invalid Phone OTP.","Verification")})},()=>{this._noti.show("Failed","Invalid Email OTP.","Verification")})}else this.userInfo.is_two_factor_authentication_enable&&this.service.postWithHeaders(b.a.verifyOtp,{otp:this.otpForm.get("auth_otp").value},{Authorization:"Bearer "+this.userInfo.token}).subscribe(e=>{200==e.code?(this.status=!0,this._diloag.openDialogs[0].close(!0)):this._noti.show("Failed","Invalid Auth OTP.","Verification")},()=>{this._noti.show("Failed","Invalid Auth OTP.","Verification")})}closeIt(){this._diloag.openDialogs[0].close(!1)}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](i.g),l["\u0275\u0275directiveInject"](_.a),l["\u0275\u0275directiveInject"](d.a),l["\u0275\u0275directiveInject"](v.b),l["\u0275\u0275directiveInject"](v.d),l["\u0275\u0275directiveInject"](v.a))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-verify-email"]],decls:12,vars:5,consts:[["id","form",1,"mx-auto","center_auth","p-5","pb-2",3,"formGroup"],[1,"mdi","mdi-close",3,"click"],["class","form-group",4,"ngIf"],[1,"form__buttons"],["type","button",1,"btn","btn-primary","btn-lg","btn-block",3,"click"],[1,"form-group"],[1,"input-group","mb-2","mr-sm-2"],["formControlName","email_otp","type","text","id","inlineFormInputGroupUsername2",1,"form-control",2,"height","50px","border-right","0px !important","text-transform","uppercase"],[1,"input-group-append"],[1,"input-group-text","bg-white"],[1,"mdi","mdi-alert-octagon"],["id","passwordHelpBlock",1,"form-text","text-muted"],["class","error text-danger",4,"ngIf"],[1,"error","text-danger"],["formControlName","phone_otp","type","text","id","inlineFormInputGroupUsername2",1,"form-control",2,"height","50px","border-right","0px !important","text-transform","uppercase"],["formControlName","auth_otp","type","text","id","inlineFormInputGroupUsername2",1,"form-control",2,"height","50px","text-transform","uppercase"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"h3"),l["\u0275\u0275text"](1,"Login"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](2,"p"),l["\u0275\u0275text"](3,"To secure your account, please complete the following verification."),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"form",0),l["\u0275\u0275elementStart"](5,"span",1),l["\u0275\u0275listener"]("click",(function(){return t.closeIt()})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](6,I,14,3,"div",2),l["\u0275\u0275template"](7,y,14,3,"div",2),l["\u0275\u0275template"](8,L,9,2,"div",2),l["\u0275\u0275elementStart"](9,"div",3),l["\u0275\u0275elementStart"](10,"button",4),l["\u0275\u0275listener"]("click",(function(){return t.verifyOtp()})),l["\u0275\u0275text"](11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("formGroup",t.otpForm),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",null==t.userInfo?null:t.userInfo.is_two_factor_sms_authentication_enable),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",null==t.userInfo?null:t.userInfo.is_two_factor_sms_authentication_enable),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",null==t.userInfo?null:t.userInfo.is_two_factor_authentication_enable),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](t.isLoading?"Processing...":"Submit"))},directives:[i.B,i.t,i.l,r.n,i.d,i.s,i.j],styles:["form[_ngcontent-%COMP%]{position:relative}form[_ngcontent-%COMP%]   .mdi-close[_ngcontent-%COMP%]{font-size:29px;position:absolute;right:0;top:0;cursor:pointer}"]}),e})();var O=n("JqCM");function k(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1," Please enter email. "),l["\u0275\u0275elementEnd"]())}function C(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1," Please enter valid email. "),l["\u0275\u0275elementEnd"]())}function j(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1,"Please enter password. "),l["\u0275\u0275elementEnd"]())}let V=(()=>{class e{constructor(e,t,n,r,o,a){this.router=e,this._auth=t,this._fb=n,this.spinner=r,this._noti=o,this.dialog=a,this.isLoading=!1}ngOnInit(){this.loginForm=this._fb.group({email:[null,[i.A.required,i.A.email,s.a]],password:[null,i.A.required],deviceType:["WEB"]})}loginNow(){if(this.loginForm.controls.email.value&&this.loginForm.controls.email.setValue(this.loginForm.controls.email.value.trim()),this.loginForm.valid){this.isLoading=!0,this.spinner.show();let e=this.loginForm.value;e.token=this._auth.firebaseToken,this._auth.login(e).subscribe(e=>{this.spinner.hide(),this.isLoading=!1,e.data.is_two_factor_authentication_enable&&e.data.is_two_factor_sms_authentication_enable||e.data.is_two_factor_sms_authentication_enable||e.data.is_two_factor_authentication_enable?this.dialog.open(A,{disableClose:!0,data:{userinfo:e.data}}).afterClosed().subscribe(t=>{t&&this.gotoDashboard(e)}):this.gotoDashboard(e)},e=>{this.isLoading=!1,setTimeout(()=>{this.spinner.hide()},2e3)})}else this.loginForm.markAllAsTouched()}gotoDashboard(e){localStorage.setItem(f.a.storageKey,JSON.stringify(e.data)),this._noti.show("success","Admin logged in successfully.","Login!"),this.router.navigate(["/dashboard"])}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](o.b),l["\u0275\u0275directiveInject"](m.a),l["\u0275\u0275directiveInject"](i.g),l["\u0275\u0275directiveInject"](O.c),l["\u0275\u0275directiveInject"](d.a),l["\u0275\u0275directiveInject"](v.b))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-login"]],decls:23,vars:7,consts:[[1,"admin-main"],[1,"auth_module",2,"background-image","url('assets/img/auth.jpeg')"],[1,"mx-auto","center_auth",3,"formGroup","ngSubmit"],[1,"p-b-20","text-center"],[1,"logo-auth"],["src","assets/img/nav-logo.png","alt","Logo"],[1,"form-row"],["appearance","outline",1,"col-md-12"],["matInput","","placeholder","Enter email address","formControlName","email"],[4,"ngIf"],["formControlName","password","name","password","matInput","","placeholder","Password",3,"type"],["type","submit",1,"btn","btn-primary","btn-block","btn-lg"],[1,"text-right","p-t-10"],["routerLink","/auth/forgetpassword",1,"text-underline"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"main",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"form",2),l["\u0275\u0275listener"]("ngSubmit",(function(){return t.loginNow()})),l["\u0275\u0275elementStart"](3,"div",3),l["\u0275\u0275elementStart"](4,"figure",4),l["\u0275\u0275element"](5,"img",5),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"div",6),l["\u0275\u0275elementStart"](7,"mat-form-field",7),l["\u0275\u0275elementStart"](8,"mat-label"),l["\u0275\u0275text"](9,"Email"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](10,"input",8),l["\u0275\u0275template"](11,k,2,0,"mat-error",9),l["\u0275\u0275template"](12,C,2,0,"mat-error",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"mat-form-field",7),l["\u0275\u0275elementStart"](14,"mat-label"),l["\u0275\u0275text"](15,"Password"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](16,"input",10),l["\u0275\u0275template"](17,j,2,0,"mat-error",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](18,"button",11),l["\u0275\u0275text"](19),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](20,"p",12),l["\u0275\u0275elementStart"](21,"a",13),l["\u0275\u0275text"](22,"Forgot Password?"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("formGroup",t.loginForm),l["\u0275\u0275advance"](9),l["\u0275\u0275property"]("ngIf",!t.loginForm.get("email").hasError("validEmail")&&t.loginForm.get("email").hasError("required")),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.loginForm.get("email").hasError("email")||t.loginForm.get("email").hasError("validEmail")),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("type","password"),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.loginForm.get("password").hasError("required")),l["\u0275\u0275advance"](1),l["\u0275\u0275attribute"]("disabled",!!t.isLoading||null),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](t.isLoading?"Processing...":"Login"))},directives:[i.B,i.t,i.l,p.c,p.f,c.b,i.d,i.s,i.j,r.n,o.d,p.b],styles:[".admin-main[_ngcontent-%COMP%]{padding-top:0!important;padding-left:0!important}"]}),e})();var N=n("9OaD");const q=function(){return{length:6}};let M=(()=>{class e{constructor(e,t,n,r){this.fb=e,this.service=t,this._noti=n,this.router=r,this.isLoading=!1}ngOnInit(){this.OtpForm=this.fb.group({otp:[""]})}onOtpChange(e){this.otpvalue=e,console.log(this.otpvalue)}VerifyOtp(){this.service.postApi("admin/verify-otp/",{email:this.service.otpEmail,otp:this.otpvalue}).subscribe(e=>{console.log("Verify otp",e),200==e.code?(this._noti.show("success",e.message,"Verification"),this.router.navigate(["/auth/setpassword"])):this._noti.show("Failed",e.message,"Verification")})}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](i.g),l["\u0275\u0275directiveInject"](m.a),l["\u0275\u0275directiveInject"](d.a),l["\u0275\u0275directiveInject"](o.b))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-otp"]],decls:14,vars:4,consts:[[1,"admin-main"],[1,"auth_module",2,"background-image","url('assets/img/auth.jpeg')"],[1,"mx-auto","center_auth",3,"formGroup"],[1,"text-center","mb-5"],[1,"logo-auth"],["src","assets/img/nav-logo.png","alt","Logo"],[1,"form-group"],[3,"config","onInputChange"],[1,"text-center","mt-5"],["type","button",1,"btn","btn-primary","btn-lg","btn-block",3,"click"],[1,"text-right","mt-4"],["routerLink","/auth/forgetpassword",1,"text-underline"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"main",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"form",2),l["\u0275\u0275elementStart"](3,"div",3),l["\u0275\u0275elementStart"](4,"figure",4),l["\u0275\u0275element"](5,"img",5),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"div",6),l["\u0275\u0275elementStart"](7,"ng-otp-input",7),l["\u0275\u0275listener"]("onInputChange",(function(e){return t.onOtpChange(e)})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"div",8),l["\u0275\u0275elementStart"](9,"button",9),l["\u0275\u0275listener"]("click",(function(){return t.VerifyOtp()})),l["\u0275\u0275text"](10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"p",10),l["\u0275\u0275elementStart"](12,"a",11),l["\u0275\u0275text"](13,"Back?"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("formGroup",t.OtpForm),l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("config",l["\u0275\u0275pureFunction0"](3,q)),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](t.isLoading?"Processing...":"Submit"))},directives:[i.B,i.t,i.l,N.b,o.d],styles:[".admin-main[_ngcontent-%COMP%]{padding-top:0!important;padding-left:0!important}"]}),e})(),B=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-resetpassword"]],decls:2,vars:0,template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"p"),l["\u0275\u0275text"](1,"resetpassword works!"),l["\u0275\u0275elementEnd"]())},styles:[""]}),e})(),G=(()=>{class e{constructor(){}passwordMatchValidator(e,t){return n=>{const r=n.controls[e],o=n.controls[t];return r&&o?o.errors&&!o.errors.passwordMismatch?null:r.value!==o.value?(o.setErrors({passwordMismatch:!0}),!0):(o.setErrors(null),null):null}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function T(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1," Please enter password. "),l["\u0275\u0275elementEnd"]())}function W(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1," Minlength should 8. "),l["\u0275\u0275elementEnd"]())}function z(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"mat-error"),l["\u0275\u0275text"](1," *Password don't match "),l["\u0275\u0275elementEnd"]())}let H=(()=>{class e{constructor(e,t,n,r,o){this.router=e,this._auth=t,this._fb=n,this._noti=r,this.customvalidator=o,this.isLoading=!1}ngOnInit(){this.newPassword=this._fb.group({password:[null,[i.A.required,i.A.minLength(8)]],Cnfpassword:[""]},{validator:this.customvalidator.passwordMatchValidator("password","Cnfpassword")})}forgotNow(){let e={email:this._auth.otpEmail,new_password:this.newPassword.controls.password.value};this.newPassword.valid?(this.newPassword.controls.password.value&&this.newPassword.controls.password.setValue(this.newPassword.controls.password.value.trim()),this.isLoading=!0,this._auth.postApi("admin/update-password/",e).subscribe(e=>{this.isLoading=!1,this._noti.show("success",e.message,"Otp"),this.router.navigate(["/auth/login"])},e=>{this.isLoading=!1})):this.newPassword.markAllAsTouched()}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](o.b),l["\u0275\u0275directiveInject"](m.a),l["\u0275\u0275directiveInject"](i.g),l["\u0275\u0275directiveInject"](d.a),l["\u0275\u0275directiveInject"](G))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-setpassword"]],decls:23,vars:7,consts:[[1,"admin-main"],[1,"auth_module",2,"background-image","url('assets/img/auth.jpeg')"],[1,"mx-auto","center_auth",3,"formGroup","ngSubmit"],[1,"p-b-20","text-center"],[1,"logo-auth"],["src","assets/img/nav-logo.png","alt","Logo"],[1,"form-row","mb-2"],["appearance","outline",1,"col-md-12"],["matInput","","placeholder","Enter new password","formControlName","password","type","password"],[4,"ngIf"],["formControlName","Cnfpassword","name","password","matInput","","placeholder","Password",3,"type"],["type","submit",1,"btn","btn-primary","btn-block","btn-lg"],[1,"text-right","p-t-10"],["routerLink","/auth/login",1,"text-underline"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"main",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"form",2),l["\u0275\u0275listener"]("ngSubmit",(function(){return t.forgotNow()})),l["\u0275\u0275elementStart"](3,"div",3),l["\u0275\u0275elementStart"](4,"figure",4),l["\u0275\u0275element"](5,"img",5),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"div",6),l["\u0275\u0275elementStart"](7,"mat-form-field",7),l["\u0275\u0275elementStart"](8,"mat-label"),l["\u0275\u0275text"](9,"New password"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](10,"input",8),l["\u0275\u0275template"](11,T,2,0,"mat-error",9),l["\u0275\u0275template"](12,W,2,0,"mat-error",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"mat-form-field",7),l["\u0275\u0275elementStart"](14,"mat-label"),l["\u0275\u0275text"](15,"Confirm password"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](16,"input",10),l["\u0275\u0275template"](17,z,2,0,"mat-error",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](18,"button",11),l["\u0275\u0275text"](19),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](20,"p",12),l["\u0275\u0275elementStart"](21,"a",13),l["\u0275\u0275text"](22,"Back to Login"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("formGroup",t.newPassword),l["\u0275\u0275advance"](9),l["\u0275\u0275property"]("ngIf",t.newPassword.get("password").hasError("required")),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.newPassword.get("password").hasError("minlength")),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("type","password"),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",t.newPassword.get("Cnfpassword").hasError("passwordMismatch")),l["\u0275\u0275advance"](1),l["\u0275\u0275attribute"]("disabled",!!t.isLoading||null),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](t.isLoading?"Submitting...":"Submit"))},directives:[i.B,i.t,i.l,p.c,p.f,c.b,i.d,i.s,i.j,r.n,o.d,p.b],styles:[""]}),e})();const D=[{path:"login",component:V},{path:"signup",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-signup"]],decls:2,vars:0,template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"p"),l["\u0275\u0275text"](1,"signup works!"),l["\u0275\u0275elementEnd"]())},styles:[""]}),e})()},{path:"forgetpassword",component:g},{path:"resetpassword",component:B},{path:"otpscreen",component:M},{path:"setpassword",component:H}];let J=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.e.forChild(D)],o.e,a.a]}),e})();var K=n("4FC3"),U=n("pKmL");let R=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[],imports:[[r.c,J,i.y,N.a,K.a,U.CoreModule,v.c]]}),e})()}}]);